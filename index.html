<section id="referrals" class="referral-section">
  <style>
    .referral-section {
      background: linear-gradient(to right, #e0f7fa, #f1f8e9);
      padding: 40px 20px;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
    }

    .referral-section h2 {
      font-size: 2em;
      color: #00796b;
      margin-bottom: 10px;
    }

    .referral-section p {
      color: #455a64;
      font-size: 1.1em;
      margin-bottom: 20px;
    }

    #timer-container {
      font-size: 1.2em;
      color: #00796b;
      font-weight: bold;
      margin-bottom: 30px;
    }

    .ref-filter {
      margin-bottom: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px;
    }

    .ref-filter button {
      background: #fff;
      border: 1px solid #00796b;
      color: #00796b;
      padding: 8px 14px;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: bold;
    }

    .ref-filter button.active,
    .ref-filter button:hover {
      background: #00796b;
      color: white;
    }

    .referral-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .ref-block {
      background: #ffffff;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
      opacity: 0;
      transform: translateY(20px);
      animation: fadeIn 0.6s ease forwards;
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .ref-title {
      font-size: 1.2em;
      color: #00796b;
      margin-bottom: 8px;
      font-weight: 600;
    }

    .ref-desc {
      font-size: 1em;
      color: #37474f;
      margin-bottom: 12px;
    }

    .ref-btn {
      display: inline-block;
      background-color: #00796b;
      color: white;
      padding: 10px 16px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.2s ease;
      margin: 4px 4px 0 0;
    }

    .ref-btn:hover {
      background-color: #004d40;
    }

    .hidden {
      display: none !important;
    }

    @media (max-width: 480px) {
      .referral-section h2 {
        font-size: 1.6em;
      }

      .ref-block {
        padding: 16px;
      }

      .ref-title {
        font-size: 1.1em;
      }

      .ref-desc {
        font-size: 0.95em;
      }
    }
  </style>

  <h2>üéÅ –†–µ–∫–æ–º–µ–Ω–¥—É–π –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π</h2>
  <p>–õ–æ–≤–∏ —Ç–æ–ø–æ–≤—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Äî –±–æ–Ω—É—Å—ã, –∫—ç—à–±—ç–∫ –∏ –ø–æ–¥–∞—Ä–∫–∏ –∑–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ –º–æ–∏–º —Å—Å—ã–ª–∫–∞–º!</p>

  <div id="timer-container">
    –û—Å—Ç–∞–ª–æ—Å—å: <span id="ref-timer">7–¥ 00:00:00</span>
  </div>

  <div class="ref-filter">
    <button class="active" data-cat="all">–í—Å–µ</button>
    <button data-cat="bank">üí≥ –ë–∞–Ω–∫–∏</button>
    <button data-cat="mobile">üì± –ú–æ–±–∞–π–ª</button>
    <button data-cat="job">üëî –†–∞–±–æ—Ç–∞</button>
    <button data-cat="biz">üè¢ –ë–∏–∑–Ω–µ—Å</button>
    <button data-cat="insure">üõ° –°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ</button>
    <button data-cat="crypto">ü™ô –ö—Ä–∏–ø—Ç–∞</button>
    <button data-cat="deliv">üöó –î–æ—Å—Ç–∞–≤–∫–∞</button>
  </div>

  <div class="referral-buttons">
    <!-- –ü—Ä–∏–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ -->
    <div class="ref-block" data-cat="deliv">
      <p class="ref-title">üöó –Ø–Ω–¥–µ–∫—Å –î–æ—Å—Ç–∞–≤–∫–∞</p>
      <p class="ref-desc">–ö–æ–¥ <strong>19–ë–´–ö172</strong> ‚Äî –ø–æ–¥–∫–ª—é—á–∞–π—Å—è —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å –ü—Ä–æ –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π —Å –Ω–∞–º–∏!</p>
      <a href="https://ya.cc/6a78dp" target="_blank" class="ref-btn">üëâ –°–∫–∞—á–∞—Ç—å –Ø–Ω–¥–µ–∫—Å –ü—Ä–æ</a>
    </div>

    <div class="ref-block" data-cat="bank">
      <p class="ref-title">üí≥ Tinkoff Black</p>
      <p class="ref-desc">–û—Ñ–æ—Ä–º–∏ –∫–∞—Ä—Ç—É –ø–æ —Å—Å—ã–ª–∫–µ –∏ –ø–æ–ª—É—á–∏ 500‚ÇΩ –±–æ–Ω—É—Å–∞</p>
      <a href="https://www.tbank.ru/baf/95WeAzPonzu" target="_blank" class="ref-btn">üëâ –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç—É</a>
    </div>

    <div class="ref-block" data-cat="job">
      <p class="ref-title">üëî –†–∞–±–æ—Ç–∞ –≤ –¢–∏–Ω—å–∫–æ—Ñ—Ñ</p>
      <p class="ref-desc">–î–æ 5000‚ÇΩ –∑–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é!</p>
      <a href="https://www.tbank.ru/baf/9aTxF8fjnCK" target="_blank" class="ref-btn">üëâ –ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
    </div>

    <div class="ref-block" data-cat="mobile">
      <p class="ref-title">üì± –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ú–æ–±–∞–π–ª</p>
      <p class="ref-desc">3 –º–µ—Å —Ç–∞—Ä–∏—Ñ–∞ ¬´–ü—Ä–æ¬ª + 500 –±–æ–Ω—É—Å–æ–≤</p>
      <a href="https://www.tbank.ru/baf/9OSldn7z9gr" target="_blank" class="ref-btn">üëâ –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</a>
    </div>

    <div class="ref-block" data-cat="biz">
      <p class="ref-title">üè¢ –ë–∏–∑–Ω–µ—Å-—Å—á—ë—Ç –¢–∏–Ω—å–∫–æ—Ñ—Ñ</p>
      <p class="ref-desc">3 –º–µ—Å—è—Ü–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è</p>
      <a href="https://www.tbank.ru/baf/12WlKxbhikL" target="_blank" class="ref-btn">üëâ –û—Ç–∫—Ä—ã—Ç—å —Å—á—ë—Ç</a>
    </div>

    <div class="ref-block" data-cat="insure">
      <p class="ref-title">üöò –ö–ê–°–ö–û –æ—Ç –¢–∏–Ω—å–∫–æ—Ñ—Ñ</p>
      <p class="ref-desc">–û—Ñ–æ—Ä–º–∏ –ø–æ–ª–∏—Å ‚Äî —Å–∫–∏–¥–∫–∞ 10%</p>
      <a href="https://www.tbank.ru/baf/5y8dYuP8EJW" target="_blank" class="ref-btn">üëâ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ö–ê–°–ö–û</a>
    </div>

    <div class="ref-block" data-cat="crypto">
      <p class="ref-title">ü™ô –ö—Ä–∏–ø—Ç–æ–±–∏—Ä–∂–∞ ByBit</p>
      <p class="ref-desc">–ë–æ–Ω—É—Å—ã –∑–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ —Ç–æ—Ä–≥–æ–≤–ª—é</p>
      <a href="https://www.bybit.com/invite?ref=OJ407B" target="_blank" class="ref-btn">üëâ –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ ByBit</a>
    </div>
    <!-- –î–æ–±–∞–≤—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ –æ–±—Ä–∞–∑—Ü—É –≤—ã—à–µ -->
  </div>

  <script>
    // –¢–∞–π–º–µ—Ä –Ω–∞ 7 –¥–Ω–µ–π
    const startTime = localStorage.getItem('refStartTime');
    let deadline;
    if (startTime) {
      deadline = new Date(parseInt(startTime));
    } else {
      deadline = new Date();
      localStorage.setItem('refStartTime', deadline.getTime());
    }
    deadline.setDate(deadline.getDate() + 7);
    function updateTimer() {
      const now = new Date();
      const diff = deadline - now;
      if (diff <= 0) {
        document.getElementById('ref-timer').innerText = "–ê–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞";
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      document.getElementById('ref-timer').innerText =
        `${days}–¥ ${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    }
    setInterval(updateTimer, 1000);
    updateTimer();

    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
    const buttons = document.querySelectorAll('.ref-filter button');
    const blocks = document.querySelectorAll('.ref-block');
    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        buttons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const cat = btn.dataset.cat;
        blocks.forEach(block => {
          block.classList.add('hidden');
          if (cat === 'all' || block.dataset.cat === cat) {
            block.classList.remove('hidden');
          }
        });
      });
    });
  </script>
</section>
